<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Fetch</title>
    <script>
      const myfetch = (END_POINT) => {
        return new Promise((resolve, reject) => {
          const data = new XMLHttpRequest();
          data.open("get", END_POINT);
          data.send();
          data.addEventListener("load", (res) => {
            resolve(res.target.response);
          });
        });
      };

      const onClickFetch = async () => {
        // then()으로 받기
        myfetch("https://koreanjson.com/posts/1").then((res) => {
          console.log("여기는 .then() 입니다: ", res);
        });

        // await로 받기
        const result = await myfetch("https://koreanjson.com/posts/1");
        console.log("여기는 await입니다: ", result);
      };
    </script>
  </head>
  <body>
    <button onclick="onClickFetch()">fetch 요청하기</button>
  </body>
</html>
